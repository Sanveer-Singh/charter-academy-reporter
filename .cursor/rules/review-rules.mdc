---
description: Mandatory final verification and compliance check
globs: ["**/*"]
alwaysApply: false
---

# Implementation Review Phase Rules

## Critical Rules

### RULE 1: Plan Compliance
- **MUST**: Verify ALL planned steps executed
- **MUST**: Document any deviations with justification
- **MUST**: Confirm rollback plan tested
- **ALWAYS**: Check deprecated code removed
- **NEVER**: Accept unexplained deviations

### RULE 2: Bug Resolution
- **MUST**: Verify original bug no longer reproducible
- **MUST**: Test all edge cases
- **MUST**: Confirm no new bugs introduced
- **ALWAYS**: Test across all affected user roles
- **NEVER**: Accept partial fixes

### RULE 3: Architecture Compliance
- **MUST**: Controllers remain thin
- **MUST**: Business logic in services only
- **MUST**: Repository pattern properly used
- **ALWAYS**: Verify SOLID principles maintained
- **NEVER**: Accept architecture violations

### RULE 4: Security Verification
- **MUST**: All inputs validated server-side
- **MUST**: Parameterized queries used exclusively
- **MUST**: XSS prevention implemented
- **ALWAYS**: Check authorization enforcement
- **NEVER**: Accept security risks

### RULE 5: Performance Validation
- **MUST**: Async/await used correctly
- **MUST**: No N+1 queries present
- **MUST**: Caching implemented where planned
- **ALWAYS**: Verify query optimization
- **NEVER**: Accept synchronous I/O

### RULE 6: UI/UX Compliance
- **MUST**: Mobile-first responsive design
- **MUST**: Accessibility standards met
- **MUST**: Theme consistency maintained
- **ALWAYS**: Check cross-browser compatibility
- **NEVER**: Skip responsive testing

### RULE 7: Test Coverage
- **MUST**: All new code has unit tests
- **MUST**: Edge cases covered
- **MUST**: Security scenarios tested
- **ALWAYS**: Verify regression tests pass
- **NEVER**: Accept untested code

### RULE 8: Documentation
- **MUST**: Public methods have XML comments
- **MUST**: Complex logic explained
- **MUST**: No TODO comments remain
- **ALWAYS**: Update README if needed
- **NEVER**: Leave undocumented complexity

### RULE 9: Compliance Check
- **MUST**: Verify audit trail complete
- **MUST**: Check data privacy compliance
- **MUST**: Validate accessibility standards
- **ALWAYS**: Test role-based permissions
- **NEVER**: Skip compliance verification

### RULE 10: Deployment Readiness
- **MUST**: Verify migration scripts tested
- **MUST**: Check configuration for production
- **MUST**: Validate rollback procedures
- **ALWAYS**: Document deployment steps
- **NEVER**: Deploy without rollback plan

## Final Review Checklist
✓ Bug completely fixed and verified
✓ Plan followed (deviations documented)
✓ Architecture standards maintained
✓ Security requirements met
✓ Performance benchmarks achieved
✓ UI/UX standards followed
✓ Test coverage adequate
✓ Documentation complete
✓ Compliance verified
✓ Deployment ready
✓ No regressions found
✓ Ready for production

## Critical Path Verification
```
1. Original bug scenario - FAILS
2. With fix applied - PASSES
3. Edge cases - ALL PASS
4. Related features - WORKING
5. User roles - ALL VERIFIED
6. Performance impact - ACCEPTABLE
7. Security scan - CLEAN
```

## Sign-off Requirements
```
Bug Fixed: ✅
Plan Compliance: ✅
Architecture: ✅
Security: ✅
Performance: ✅
Testing: ✅
Documentation: ✅
Compliance: ✅
No Regressions: ✅
```

## If Issues Found
1. **Critical**: Fix immediately
2. **Major**: Fix before deployment
3. **Minor**: Document for follow-up
4. **Always**: Update documentation
5. **Never**: Ignore critical/major issues